---
layout: post
title: MongoDB基本操作(02)
category: 技术
tags: 数据库
keywords:
description:
---

## 写出和查询操作

1. 连接数据库 ./bin/mongo 127.0.0.1:12345/test

2. use richey #使用richey数据库,mongodb会在使用的时候自动创建数据库,不需要事先创建

3. db.dropDatabase(),删除当前数据库

4. mongo中一张表被成为一个集合,实际上mongo没有表的概念

### 基本写入

1. mongo中用插入数据用db.collection_name.insert(json格式的数据)

        db.product_collection.insert({'iphone':{'color':'gold','size':'6s'}})
2. 使用show collections可以看到我们的集合product_collection

### 基本查询

1. mongodb中使用find进行查询db.collection_name.find()

        db.product_collection.find()

2. find也接受json格式的参数

        db.richey_collection.insert({x:1})
        db.richey_collection.insert({x:2})
        db.richey_collection.insert({x:3})

        db.richey_collection.find({x:1})

### 其它的查询和写入

1. 插入多条数据

        for(i=1;i<100;i++)db.richey_collection.insert({x:i});

        db.richey_collection.find().count()

2. 查询过滤 skip limit sort

        db.richey_collection.find().skip(3).limit(2).sort({x:1})

## 数据的更新

* 在mongodb中数据的更新用update方法,update方法接收两个参数,查询的参数和更新的参数,如,将x为1 的数据查询出来,并将x改为999

        db.richey_collection.update({x:1},{x:999});

* 部分字段更新 {$set:{}}

        db.richey_collection.insert({x:'a',y:'b',z:'c'})

        db.richey_collection.update({x:'a'},{$set:{z:'ccc'}})
